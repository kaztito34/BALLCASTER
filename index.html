<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Bowling Game</title>
<style>
body{margin:0;font-family:sans-serif;background:#111;color:#fff;text-align:center;}
canvas{background:#222;display:block;margin:20px auto;border:2px solid #555;}
#overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:10;}
button{padding:15px 30px;font-size:18px;margin:10px;cursor:pointer;border:none;border-radius:8px;background:orange;color:#fff;font-weight:bold;}
#controls{margin-top:10px;}
input[type=range]{width:300px;}
</style>
</head>
<body>

<div id="overlay">
<h1>ðŸŽ³ Pay & Play Bowling</h1>
<button id="payBtn">ðŸ’° Pay & Play</button>
</div>

<canvas id="canvas" width="800" height="500"></canvas>

<div id="controls">
<label>Aim: <span id="aimValue">0</span>Â°</label><br>
<input type="range" id="aim" min="-30" max="30" value="0"><br>
<label>Power: <span id="powerValue">0</span>%</label><br>
<input type="range" id="power" min="0" max="100" value="50"><br>
<button id="throwBtn">Throw Ball</button>
<button id="resetBtn">Reset</button>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const overlay = document.getElementById('overlay');
const payBtn = document.getElementById('payBtn');

const aimSlider = document.getElementById('aim');
const aimValue = document.getElementById('aimValue');
const powerSlider = document.getElementById('power');
const powerValue = document.getElementById('powerValue');
const throwBtn = document.getElementById('throwBtn');
const resetBtn = document.getElementById('resetBtn');

aimSlider.addEventListener('input',()=>aimValue.textContent=aimSlider.value);
powerSlider.addEventListener('input',()=>powerValue.textContent=powerSlider.value);

let pins = [];
let ball = null;
let gameActive = false;

function initPins(){
  pins=[];
  const startX=canvas.width/2;
  const startY=50;
  const spacing=40;
  let id=0;
  for(let row=0;row<4;row++){
    for(let col=0;col<=row;col++){
      pins.push({x:startX+(col-row/2)*spacing,y:startY+row*spacing,alive:true});
    }
  }
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // draw lane
  ctx.fillStyle="#444";
  ctx.fillRect(100,50,canvas.width-200,400);
  // draw pins
  pins.forEach(p=>{if(p.alive){ctx.fillStyle="white";ctx.beginPath();ctx.arc(p.x,p.y,10,0,Math.PI*2);ctx.fill();}});
  // draw ball
  if(ball){ctx.fillStyle="red";ctx.beginPath();ctx.arc(ball.x,ball.y,12,0,Math.PI*2);ctx.fill();}
}

function update(){
  if(ball){
    ball.y -= ball.vy;
    ball.x += ball.vx;
    pins.forEach(p=>{
      if(p.alive && Math.hypot(p.x-ball.x,p.y-ball.y)<20){
        p.alive=false;
      }
    });
    if(ball.y<50){ball=null;}
  }
}

function gameLoop(){
  if(!gameActive) return;
  update();
  draw();
  requestAnimationFrame(gameLoop);
}

throwBtn.addEventListener('click',()=>{
  if(!ball){
    const angle = aimSlider.value * Math.PI/180;
    const power = powerSlider.value/5;
    ball={x:canvas.width/2,y:450,vx:Math.sin(angle)*power,vy:Math.cos(angle)*power};
  }
});

resetBtn.addEventListener('click',()=>{initPins();ball=null;});

payBtn.addEventListener('click',()=>{
  // Here you would call your real payment function
  overlay.style.display='none';
  gameActive=true;
  initPins();
  gameLoop();
});
</script>
</body>
</html>
